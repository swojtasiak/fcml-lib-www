<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fcml: include/fcml_parser.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fcml
   &#160;<span id="projectnumber">1.2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fcml_parser.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Structures and functions declarations related to FCML parsers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fcml__lib__export_8h_source.html">fcml_lib_export.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fcml__types_8h_source.html">fcml_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fcml__errors_8h_source.html">fcml_errors.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fcml__common_8h_source.html">fcml_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fcml__dialect_8h_source.html">fcml_dialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fcml__symbols_8h_source.html">fcml_symbols.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fcml_parser.h:</div>
<div class="dyncontent">
<div class="center"><img src="fcml__parser_8h__incl.png" border="0" usemap="#include_2fcml__parser_8h" alt=""/></div>
<map name="include_2fcml__parser_8h" id="include_2fcml__parser_8h">
<area shape="rect" id="node2" href="fcml__lib__export_8h.html" title="Handles Win32 DLL symbols importing/exporting. " alt="" coords="360,304,481,331"/>
<area shape="rect" id="node3" href="fcml__types_8h.html" title="Types declarations. " alt="" coords="95,229,192,256"/>
<area shape="rect" id="node7" href="fcml__errors_8h.html" title="Global error handling related declarations. " alt="" coords="181,155,279,181"/>
<area shape="rect" id="node8" href="fcml__common_8h.html" title="Definitions of common structures used by FCML components. " alt="" coords="303,155,418,181"/>
<area shape="rect" id="node10" href="fcml__dialect_8h.html" title="Structures and functions related to dialects. " alt="" coords="453,80,556,107"/>
<area shape="rect" id="node11" href="fcml__symbols_8h.html" title="API for symbols handling. " alt="" coords="314,80,429,107"/>
<area shape="rect" id="node9" href="fcml__instructions_8h.html" title="Instruction codes and addressing modes/instruction forms. " alt="" coords="319,229,451,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="fcml__parser_8h__dep__incl.png" border="0" usemap="#include_2fcml__parser_8hdep" alt=""/></div>
<map name="include_2fcml__parser_8hdep" id="include_2fcml__parser_8hdep">
<area shape="rect" id="node2" href="fcml__parser_8hpp.html" title="C++ wrapper for instruction parser. " alt="" coords="5,80,165,107"/>
<area shape="rect" id="node3" href="fcml__stateful__assembler_8hpp.html" title="Stateful FCML assembler implementation. " alt="" coords="14,155,157,196"/>
</map>
</div>
</div>
<p><a href="fcml__parser_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcml__st__parser__config.html">fcml_st_parser_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser configuration.  <a href="structfcml__st__parser__config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser runtime context.  <a href="structfcml__st__parser__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reusable result holder.  <a href="structfcml__st__parser__result.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a017c8b2a78733aea4f0576fde46a59b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#a017c8b2a78733aea4f0576fde46a59b1">FCML_PARSER_MAX_INSTRUCTION_LEN</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a017c8b2a78733aea4f0576fde46a59b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximal number of character for parsed instruction.  <a href="#a017c8b2a78733aea4f0576fde46a59b1">More...</a><br /></td></tr>
<tr class="separator:a017c8b2a78733aea4f0576fde46a59b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a952e8272e231eb0c87129189e435fa19"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structfcml__st__parser__config.html">fcml_st_parser_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#a952e8272e231eb0c87129189e435fa19">fcml_st_parser_config</a></td></tr>
<tr class="memdesc:a952e8272e231eb0c87129189e435fa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser configuration.  <a href="#a952e8272e231eb0c87129189e435fa19">More...</a><br /></td></tr>
<tr class="separator:a952e8272e231eb0c87129189e435fa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d236b80e847027619bc129ed05bcbe2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#a2d236b80e847027619bc129ed05bcbe2">fcml_st_parser_context</a></td></tr>
<tr class="memdesc:a2d236b80e847027619bc129ed05bcbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser runtime context.  <a href="#a2d236b80e847027619bc129ed05bcbe2">More...</a><br /></td></tr>
<tr class="separator:a2d236b80e847027619bc129ed05bcbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d22375d8528a09917102a83ae60b72"><td class="memItemLeft" align="right" valign="top"><a id="a22d22375d8528a09917102a83ae60b72"></a>
typedef struct <a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#a22d22375d8528a09917102a83ae60b72">fcml_st_parser_result</a></td></tr>
<tr class="memdesc:a22d22375d8528a09917102a83ae60b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reusable result holder. <br /></td></tr>
<tr class="separator:a22d22375d8528a09917102a83ae60b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa2e127439a41794a2b8f5611c87ece3f"><td class="memItemLeft" align="right" valign="top">LIB_EXPORT <a class="el" href="fcml__errors_8h.html#a5dc52a6ee90a57e58a0760296b0c36e3">fcml_ceh_error</a> LIB_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#aa2e127439a41794a2b8f5611c87ece3f">fcml_fn_parse</a> (<a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a> *context, const fcml_string instruction, <a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *result)</td></tr>
<tr class="memdesc:aa2e127439a41794a2b8f5611c87ece3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses given instruction into the generic instruction model.  <a href="#aa2e127439a41794a2b8f5611c87ece3f">More...</a><br /></td></tr>
<tr class="separator:aa2e127439a41794a2b8f5611c87ece3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8518293f072c18ac06efedd85e27212"><td class="memItemLeft" align="right" valign="top">LIB_EXPORT void LIB_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#ad8518293f072c18ac06efedd85e27212">fcml_fn_parser_result_prepare</a> (<a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *result)</td></tr>
<tr class="memdesc:ad8518293f072c18ac06efedd85e27212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares reusable result holder for parser.  <a href="#ad8518293f072c18ac06efedd85e27212">More...</a><br /></td></tr>
<tr class="separator:ad8518293f072c18ac06efedd85e27212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220442c7a5b36deaff64c8548a77a6a6"><td class="memItemLeft" align="right" valign="top">LIB_EXPORT void LIB_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcml__parser_8h.html#a220442c7a5b36deaff64c8548a77a6a6">fcml_fn_parser_result_free</a> (<a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *result)</td></tr>
<tr class="memdesc:a220442c7a5b36deaff64c8548a77a6a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans result holder.  <a href="#a220442c7a5b36deaff64c8548a77a6a6">More...</a><br /></td></tr>
<tr class="separator:a220442c7a5b36deaff64c8548a77a6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structures and functions declarations related to FCML parsers. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2010-2020 Slawomir Wojtasiak. All rights reserved. This project is released under the GNU Lesser General Public License. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a017c8b2a78733aea4f0576fde46a59b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017c8b2a78733aea4f0576fde46a59b1">&#9670;&nbsp;</a></span>FCML_PARSER_MAX_INSTRUCTION_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FCML_PARSER_MAX_INSTRUCTION_LEN&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximal number of character for parsed instruction. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a952e8272e231eb0c87129189e435fa19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952e8272e231eb0c87129189e435fa19">&#9670;&nbsp;</a></span>fcml_st_parser_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfcml__st__parser__config.html">fcml_st_parser_config</a>  <a class="el" href="structfcml__st__parser__config.html">fcml_st_parser_config</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parser configuration. </p>

</div>
</div>
<a id="a2d236b80e847027619bc129ed05bcbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d236b80e847027619bc129ed05bcbe2">&#9670;&nbsp;</a></span>fcml_st_parser_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a>  <a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parser runtime context. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa2e127439a41794a2b8f5611c87ece3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e127439a41794a2b8f5611c87ece3f">&#9670;&nbsp;</a></span>fcml_fn_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIB_EXPORT <a class="el" href="fcml__errors_8h.html#a5dc52a6ee90a57e58a0760296b0c36e3">fcml_ceh_error</a> LIB_CALL fcml_fn_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfcml__st__parser__context.html">fcml_st_parser_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fcml_string&#160;</td>
          <td class="paramname"><em>instruction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses given instruction into the generic instruction model. </p>
<p>Parses the textual representation of the instruction using dialect and configuration provided by the parser context. Parsed instruction is returned in the reusable result holder. Result holder has to be allocated by the user and appropriately prepared using <a class="el" href="fcml__parser_8h.html#ad8518293f072c18ac06efedd85e27212" title="Prepares reusable result holder for parser. ">fcml_fn_parser_result_prepare()</a> function. As long as the instruction context and the result holder are not shared across multiple function calls parsing process is thread safe.</p>
<p>Remember that textual representation of the instruction has to be written using syntax supported by the dialect parser is going to use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>Parser runtime context. </td></tr>
    <tr><td class="paramname">instruction</td><td>textual representation of the instruction to be parsed. </td></tr>
    <tr><td class="paramname">result</td><td>Reusable result holder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code or FCML_CEH_GEC_NO_ERROR. </dd></dl>

</div>
</div>
<a id="a220442c7a5b36deaff64c8548a77a6a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220442c7a5b36deaff64c8548a77a6a6">&#9670;&nbsp;</a></span>fcml_fn_parser_result_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIB_EXPORT void LIB_CALL fcml_fn_parser_result_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans result holder. </p>
<p>Frees all memory blocks allocated by the parser and held inside the result holder (Instructions, errors etc.). Notice that result holder itself is not freed and can be even safety reused after call to this function. In fact this function is also called internally by the parser in order to clean result holder before reusing it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>Result holder to clean. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8518293f072c18ac06efedd85e27212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8518293f072c18ac06efedd85e27212">&#9670;&nbsp;</a></span>fcml_fn_parser_result_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIB_EXPORT void LIB_CALL fcml_fn_parser_result_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfcml__st__parser__result.html">fcml_st_parser_result</a> *&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares reusable result holder for parser. </p>
<p>Every instance of <a class="el" href="structfcml__st__parser__result.html" title="Reusable result holder. ">fcml_st_parser_result</a> structure is reusable from the parser's point of view, so it has to be prepared in the right way in order to allow parser to reuse it correctly. It is up to the library user to allocate space for the holder itself. This function is only responsible for cleaning the structure correctly and preparing it for the first parsing process. Notice that parser has to clean the result holder at the beginning so you can not pass an uninitialized memory block because it can even cause a crash due to illegal memory access.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>Result holder instance to be prepared. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
